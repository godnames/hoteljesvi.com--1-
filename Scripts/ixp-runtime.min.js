!function(t,e,n){/**
     * @license
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash include="assign,bind,create,debounce,defaults,defer,delay,keys,partial,throttle,extend,identity,isArguments,isArray,isFunction,isObject,isString,noop,now" iife="var _ = (function() { %output% return lodash; }.call(this));" --output lodash-1571398373585.build.js --development`
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */
var r=function(){function t(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function n(t,e){var n=null==t?0:t.length;return!!n&&i(t,e,0)>-1}function r(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function i(t,e,n){return e===e?h(t,e,n):r(t,o,n)}function o(t){return t!==t}function a(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t){return function(e){return t(e)}}function c(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function u(t,e){return null==t?Tt:t[e]}function l(t,e){return function(n){return t(e(n))}}function f(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==Ct||(t[n]=Ct,o[i++]=n)}return o}function h(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function p(){}function d(){}function v(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qt,this.__views__=[]}function g(t,e){var n=Tn(t),r=!n&&An(t),i=!n&&!r&&kn(t),o=!n&&!r&&!i&&Sn(t),s=n||r||i||o,c=s?a(t.length,String):[],u=c.length;for(var l in t)!e&&!Xe.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Q(l,u))||c.push(l);return c}function m(t,e,n){var r=t[e];Xe.call(t,e)&&ct(r,n)&&(n!==Tt||e in t)||b(t,e,n)}function y(t,e){return t&&L(e,wt(e),t)}function b(t,e,n){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function w(t,e,n){if("function"!=typeof t)throw new TypeError(St);return setTimeout(function(){t.apply(Tt,n)},e)}function _(t){return null==t?t===Tt?fe:ie:rn&&rn in Object(t)?U(t):Z(t)}function x(t){return pt(t)&&_(t)==Jt}function E(t){if(!ht(t)||X(t))return!1;var e=lt(t)?Ke:Le;return e.test(it(t))}function j(t){return pt(t)&&ft(t.length)&&!!qe[_(t)]}function A(t){if(!Y(t))return sn(t);var e=[];for(var n in Object(t))Xe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function T(t){if(!ht(t))return K(t);var e=Y(t),n=[];for(var r in t)("constructor"!=r||!e&&Xe.call(t,r))&&n.push(r);return n}function k(t,e){return bn(tt(t,e,Et),t+"")}function S(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,c=e.length,u=cn(o-a,0),l=Array(c+u),f=!r;++s<c;)l[s]=e[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;u--;)l[s++]=t[i++];return l}function C(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,c=-1,u=e.length,l=cn(o-s,0),f=Array(l+u),h=!r;++i<l;)f[i]=t[i];for(var p=i;++c<u;)f[p+c]=e[c];for(;++a<s;)(h||i<o)&&(f[p+n[a]]=t[i++]);return f}function I(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function L(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],c=r?r(n[s],t[s],s,n,t):Tt;c===Tt&&(c=t[s]),i?b(n,s,c):m(n,s,c)}return n}function O(t){return k(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:Tt,a=i>2?n[2]:Tt;for(o=t.length>3&&"function"==typeof o?(i--,o):Tt,a&&z(n[0],n[1],a)&&(o=i<3?Tt:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function P(t,e,n){function r(){var e=this&&this!==We&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&It,o=q(t);return r}function q(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dn(t.prototype),r=t.apply(n,e);return ht(r)?r:n}}function V(e,n,r){function i(){for(var a=arguments.length,s=Array(a),c=a,u=B(i);c--;)s[c]=arguments[c];var l=a<3&&s[0]!==u&&s[a-1]!==u?[]:f(s,u);if(a-=l.length,a<r)return W(e,n,M,i.placeholder,Tt,s,l,Tt,Tt,r-a);var h=this&&this!==We&&this instanceof i?o:e;return t(h,this,s)}var o=q(e);return i}function M(t,e,n,r,i,o,a,s,u,l){function h(){for(var b=arguments.length,w=Array(b),_=b;_--;)w[_]=arguments[_];if(g)var x=B(h),E=c(w,x);if(r&&(w=S(w,r,i,g)),o&&(w=C(w,o,a,g)),b-=E,g&&b<l){var j=f(w,x);return W(t,e,M,h.placeholder,n,w,j,s,u,l-b)}var A=d?n:this,T=v?A[t]:t;return b=w.length,s?w=et(w,s):m&&b>1&&w.reverse(),p&&u<b&&(w.length=u),this&&this!==We&&this instanceof h&&(T=y||q(T)),T.apply(A,w)}var p=e&Nt,d=e&It,v=e&Lt,g=e&(Pt|qt),m=e&Ft,y=v?Tt:q(t);return h}function N(e,n,r,i){function o(){for(var n=-1,c=arguments.length,u=-1,l=i.length,f=Array(l+c),h=this&&this!==We&&this instanceof o?s:e;++u<l;)f[u]=i[u];for(;c--;)f[u++]=arguments[++n];return t(h,a?r:this,f)}var a=n&It,s=q(e);return o}function W(t,e,n,r,i,o,a,s,c,u){var l=e&Pt,f=l?a:Tt,h=l?Tt:a,p=l?o:Tt,d=l?Tt:o;e|=l?Vt:Mt,e&=~(l?Mt:Vt),e&Ot||(e&=~(It|Lt));var v=[t,e,i,p,f,d,h,s,c,u],g=n.apply(Tt,v);return J(t)&&yn(g,v),g.placeholder=r,nt(g,t,e)}function F(t,e,n,r,i,o,a,s){var c=e&Lt;if(!c&&"function"!=typeof t)throw new TypeError(St);var u=r?r.length:0;if(u||(e&=~(Vt|Mt),r=i=Tt),a=a===Tt?a:cn(mt(a),0),s=s===Tt?s:mt(s),u-=i?i.length:0,e&Mt){var l=r,f=i;r=i=Tt}var h=c?Tt:mn(t),p=[t,e,n,r,i,l,f,o,a,s];if(h&&G(p,h),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=p[9]===Tt?c?0:t.length:cn(p[9]-u,0),!s&&e&(Pt|qt)&&(e&=~(Pt|qt)),e&&e!=It)d=e==Pt||e==qt?V(t,e,s):e!=Vt&&e!=(It|Vt)||i.length?M.apply(Tt,p):N(t,e,n,r);else var d=P(t,e,n);var v=h?vn:yn;return nt(v(d,p),t,e)}function R(t){for(var e=t.name+"",n=pn[e],r=Xe.call(pn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function B(t){var e=Xe.call(p,"placeholder")?p:t;return e.placeholder}function D(t,e){var n=u(t,e);return E(n)?n:Tt}function U(t){var e=Xe.call(t,rn),n=t[rn];try{t[rn]=Tt;var r=!0}catch(i){}var o=Ge.call(t);return r&&(e?t[rn]=n:delete t[rn]),o}function $(t){var e=t.match(ke);return e?e[1].split(Se):[]}function H(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Te,"{\n/* [wrapped with "+e+"] */\n")}function Q(t,e){var n=typeof t;return e=null==e?Ut:e,!!e&&("number"==n||"symbol"!=n&&Pe.test(t))&&t>-1&&t%1==0&&t<e}function z(t,e,n){if(!ht(n))return!1;var r=typeof e;return!!("number"==r?ut(n)&&Q(e,n.length):"string"==r&&e in n)&&ct(n[e],t)}function J(t){var e=R(t),n=p[e];if("function"!=typeof n||!(e in v.prototype))return!1;if(t===n)return!0;var r=mn(n);return!!r&&t===r[0]}function X(t){return!!Ye&&Ye in t}function Y(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Qe;return t===n}function G(t,e){var n=t[1],r=e[1],i=n|r,o=i<(It|Lt|Nt),a=r==Nt&&n==Pt||r==Nt&&n==Wt&&t[7].length<=e[8]||r==(Nt|Wt)&&e[7].length<=e[8]&&n==Pt;if(!o&&!a)return t;r&It&&(t[2]=e[2],i|=n&It?0:Ot);var s=e[3];if(s){var c=t[3];t[3]=c?S(c,s,e[4]):s,t[4]=c?f(t[3],Ct):e[4]}return s=e[5],s&&(c=t[5],t[5]=c?C(c,s,e[6]):s,t[6]=c?f(t[5],Ct):e[6]),s=e[7],s&&(t[7]=s),r&Nt&&(t[8]=null==t[8]?e[8]:un(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function K(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Z(t){return Ge.call(t)}function tt(e,n,r){return n=cn(n===Tt?e.length-1:n,0),function(){for(var i=arguments,o=-1,a=cn(i.length-n,0),s=Array(a);++o<a;)s[o]=i[n+o];o=-1;for(var c=Array(n+1);++o<n;)c[o]=i[o];return c[n]=r(s),t(e,this,c)}}function et(t,e){for(var n=t.length,r=un(e.length,n),i=I(t);r--;){var o=e[r];t[r]=Q(o,n)?i[o]:Tt}return t}function nt(t,e,n){var r=e+"";return bn(t,H(r,ot($(r),n)))}function rt(t){var e=0,n=0;return function(){var r=ln(),i=Bt-(r-n);if(n=r,i>0){if(++e>=Rt)return arguments[0]}else e=0;return t.apply(Tt,arguments)}}function it(t){if(null!=t){try{return Je.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ot(t,r){return e(zt,function(e){var i="_."+e[0];r&e[1]&&!n(t,i)&&t.push(i)}),t.sort()}function at(t,e,n){function r(e){var n=h,r=p;return h=p=Tt,y=e,v=t.apply(r,n)}function i(t){return y=t,g=setTimeout(s,e),b?r(t):v}function o(t){var n=t-m,r=t-y,i=e-n;return w?un(i,d-r):i}function a(t){var n=t-m,r=t-y;return m===Tt||n>=e||n<0||w&&r>=d}function s(){var t=wn();return a(t)?c(t):void(g=setTimeout(s,o(t)))}function c(t){return g=Tt,_&&h?r(t):(h=p=Tt,v)}function u(){g!==Tt&&clearTimeout(g),y=0,h=m=p=g=Tt}function l(){return g===Tt?v:c(wn())}function f(){var t=wn(),n=a(t);if(h=arguments,p=this,m=t,n){if(g===Tt)return i(m);if(w)return clearTimeout(g),g=setTimeout(s,e),r(m)}return g===Tt&&(g=setTimeout(s,e)),v}var h,p,d,v,g,m,y=0,b=!1,w=!1,_=!0;if("function"!=typeof t)throw new TypeError(St);return e=yt(e)||0,ht(n)&&(b=!!n.leading,w="maxWait"in n,d=w?cn(yt(n.maxWait)||0,e):d,_="trailing"in n?!!n.trailing:_),f.cancel=u,f.flush=l,f}function st(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError(St);return ht(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),at(t,e,{leading:r,maxWait:e,trailing:i})}function ct(t,e){return t===e||t!==t&&e!==e}function ut(t){return null!=t&&ft(t.length)&&!lt(t)}function lt(t){if(!ht(t))return!1;var e=_(t);return e==te||e==ee||e==Yt||e==ae}function ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ut}function ht(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function pt(t){return null!=t&&"object"==typeof t}function dt(t){return"string"==typeof t||!Tn(t)&&pt(t)&&_(t)==ue}function vt(t){return"symbol"==typeof t||pt(t)&&_(t)==le}function gt(t){if(!t)return 0===t?t:0;if(t=yt(t),t===Dt||t===-Dt){var e=t<0?-1:1;return e*$t}return t===t?t:0}function mt(t){var e=gt(t),n=e%1;return e===e?n?e-n:e:0}function yt(t){if("number"==typeof t)return t;if(vt(t))return Ht;if(ht(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ht(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ae,"");var n=Ie.test(t);return n||Oe.test(t)?Ve(t.slice(2),n?2:8):Ce.test(t)?Ht:+t}function bt(t,e){var n=dn(t);return null==e?n:y(n,e)}function wt(t){return ut(t)?g(t):A(t)}function _t(t){return ut(t)?g(t,!0):T(t)}function xt(t){return function(){return t}}function Et(t){return t}function jt(){}function At(){return!1}var Tt,kt="4.17.21",St="Expected a function",Ct="__lodash_placeholder__",It=1,Lt=2,Ot=4,Pt=8,qt=16,Vt=32,Mt=64,Nt=128,Wt=256,Ft=512,Rt=800,Bt=16,Dt=1/0,Ut=9007199254740991,$t=1.7976931348623157e308,Ht=NaN,Qt=4294967295,zt=[["ary",Nt],["bind",It],["bindKey",Lt],["curry",Pt],["curryRight",qt],["flip",Ft],["partial",Vt],["partialRight",Mt],["rearg",Wt]],Jt="[object Arguments]",Xt="[object Array]",Yt="[object AsyncFunction]",Gt="[object Boolean]",Kt="[object Date]",Zt="[object Error]",te="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",re="[object Number]",ie="[object Null]",oe="[object Object]",ae="[object Proxy]",se="[object RegExp]",ce="[object Set]",ue="[object String]",le="[object Symbol]",fe="[object Undefined]",he="[object WeakMap]",pe="[object ArrayBuffer]",de="[object DataView]",ve="[object Float32Array]",ge="[object Float64Array]",me="[object Int8Array]",ye="[object Int16Array]",be="[object Int32Array]",we="[object Uint8Array]",_e="[object Uint8ClampedArray]",xe="[object Uint16Array]",Ee="[object Uint32Array]",je=/[\\^$.*+?()[\]{}|]/g,Ae=/^\s+|\s+$/g,Te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ke=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,Ce=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,Le=/^\[object .+?Constructor\]$/,Oe=/^0o[0-7]+$/i,Pe=/^(?:0|[1-9]\d*)$/,qe={};qe[ve]=qe[ge]=qe[me]=qe[ye]=qe[be]=qe[we]=qe[_e]=qe[xe]=qe[Ee]=!0,qe[Jt]=qe[Xt]=qe[pe]=qe[Gt]=qe[de]=qe[Kt]=qe[Zt]=qe[te]=qe[ne]=qe[re]=qe[oe]=qe[se]=qe[ce]=qe[ue]=qe[he]=!1;var Ve=parseInt,Me="object"==typeof global&&global&&global.Object===Object&&global,Ne="object"==typeof self&&self&&self.Object===Object&&self,We=Me||Ne||Function("return this")(),Fe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Re=Fe&&"object"==typeof module&&module&&!module.nodeType&&module,Be=Re&&Re.exports===Fe,De=Be&&Me.process,Ue=function(){try{var t=Re&&Re.require&&Re.require("util").types;return t?t:De&&De.binding&&De.binding("util")}catch(e){}}(),$e=Ue&&Ue.isTypedArray,He=Function.prototype,Qe=Object.prototype,ze=We["__core-js_shared__"],Je=He.toString,Xe=Qe.hasOwnProperty,Ye=function(){var t=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ge=Qe.toString,Ke=RegExp("^"+Je.call(Xe).replace(je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ze=Be?We.Buffer:Tt,tn=We.Symbol,en=Object.create,nn=Qe.propertyIsEnumerable,rn=tn?tn.toStringTag:Tt,on=function(){try{var t=D(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),an=Ze?Ze.isBuffer:Tt,sn=l(Object.keys,Object),cn=Math.max,un=Math.min,ln=Date.now,fn=D(We,"WeakMap"),hn=fn&&new fn,pn={},dn=function(){function t(){}return function(e){if(!ht(e))return{};if(en)return en(e);t.prototype=e;var n=new t;return t.prototype=Tt,n}}();v.prototype=dn(d.prototype),v.prototype.constructor=v;var vn=hn?function(t,e){return hn.set(t,e),t}:Et,gn=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:xt(e),writable:!0})}:Et,mn=hn?function(t){return hn.get(t)}:jt,yn=rt(vn),bn=rt(gn),wn=function(){return We.Date.now()},_n=k(function(t,e,n){var r=It;if(n.length){var i=f(n,B(_n));r|=Vt}return F(t,r,e,n,i)}),xn=k(function(t,e){return w(t,1,e)}),En=k(function(t,e,n){return w(t,yt(e)||0,n)}),jn=k(function(t,e){var n=f(e,B(jn));return F(t,Vt,Tt,e,n)}),An=x(function(){return arguments}())?x:function(t){return pt(t)&&Xe.call(t,"callee")&&!nn.call(t,"callee")},Tn=Array.isArray,kn=an||At,Sn=$e?s($e):j,Cn=O(function(t,e){if(Y(e)||ut(e))return void L(e,wt(e),t);for(var n in e)Xe.call(e,n)&&m(t,n,e[n])}),In=O(function(t,e){L(e,_t(e),t)}),Ln=k(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:Tt;for(i&&z(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=_t(o),s=-1,c=a.length;++s<c;){var u=a[s],l=t[u];(l===Tt||ct(l,Qe[u])&&!Xe.call(t,u))&&(t[u]=o[u])}return t});return p.assign=Cn,p.assignIn=In,p.bind=_n,p.constant=xt,p.create=bt,p.debounce=at,p.defaults=Ln,p.defer=xn,p.delay=En,p.keys=wt,p.keysIn=_t,p.partial=jn,p.throttle=st,p.extend=In,p.eq=ct,p.identity=Et,p.isArguments=An,p.isArray=Tn,p.isArrayLike=ut,p.isBuffer=kn,p.isFunction=lt,p.isLength=ft,p.isObject=ht,p.isObjectLike=pt,p.isString=dt,p.isSymbol=vt,p.isTypedArray=Sn,p.stubFalse=At,p.noop=jt,p.now=wn,p.toFinite=gt,p.toInteger=mt,p.toNumber=yt,p.VERSION=kt,e(["bind","partial"],function(t){p[t].placeholder=p}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(We._=p,define(function(){return p})):Re?((Re.exports=p)._=p,Fe._=p):We._=p,p}.call(this);/*!
     * @overview es6-promise - a tiny implementation of Promises/A+.
     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
     * @license   Licensed under MIT license
     *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
     * @version   2.0.1
     */
(function(){"use strict";function r(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(){}function s(){return function(){process.nextTick(f)}}function c(){var t=0,n=new R(f),r=e.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=f,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(f,1)}}function f(){for(var t=0;t<N;t+=2){var e=D[t],r=D[t+1];e(r),D[t]=n,D[t+1]=n}N=0}function h(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(e){return Q.error=e,Q}}function g(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function m(t,e,n){W(function(t){var r=!1,i=g(n,e,function(n){r||(r=!0,e!==n?w(t,n):x(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,E(t,i))},t)}function y(t,e){e._state===$?x(t,e._result):t._state===H?E(t,e._result):j(e,n,function(e){w(t,e)},function(e){E(t,e)})}function b(t,e){if(e.constructor===t.constructor)y(t,e);else{var r=v(e);r===Q?E(t,Q.error):r===n?x(t,e):i(r)?m(t,e,r):x(t,e)}}function w(t,e){t===e?E(t,p()):r(e)?b(t,e):x(t,e)}function _(t){t._onerror&&t._onerror(t._result),A(t)}function x(t,e){t._state===U&&(t._result=e,t._state=$,0===t._subscribers.length||W(A,t))}function E(t,e){t._state===U&&(t._state=H,t._result=e,W(_,t))}function j(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+$]=n,i[o+H]=r,0===o&&t._state&&W(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?S(n,r,i,o):i(o);t._subscribers.length=0}}function T(){this.error=null}function k(t,e){try{return t(e)}catch(n){return z.error=n,z}}function S(t,e,n,r){var o,a,s,c,u=i(n);if(u){if(o=k(n,r),o===z?(c=!0,a=o.error,o=null):s=!0,e===o)return void E(e,d())}else o=r,s=!0;e._state!==U||(u&&s?w(e,o):c?E(e,a):t===$?x(e,o):t===H&&E(e,o))}function C(t,e){try{e(function(e){w(t,e)},function(e){E(t,e)})}catch(n){E(t,n)}}function I(t,e,n,r){this._instanceConstructor=t,this.promise=new t(h,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):E(this.promise,this._validationError())}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(t){this._id=Z++,this._state=n,this._result=n,this._subscribers=[],h!==t&&(i(t)||L(),this instanceof P||O(),C(this,t))}var q;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var V,M=q,N=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return a.prototype=t,new a},0),W=function(t,e){D[N]=t,D[N+1]=e,N+=2,2===N&&V()},F="undefined"!=typeof t?t:{},R=F.MutationObserver||F.WebKitMutationObserver,B="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,D=new Array(1e3);V="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?s():R?c():B?u():l();var U=void 0,$=1,H=2,Q=new T,z=new T;I.prototype._validateInput=function(t){return M(t)},I.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},I.prototype._init=function(){this._result=new Array(this.length)};var J=I;I.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===U&&r<t;r++)this._eachEntry(n[r],r)},I.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;o(t)?t.constructor===n&&t._state!==U?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult($,e,t))},I.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===U&&(this._remaining--,this._abortOnReject&&t===H?E(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&x(r,this._result)},I.prototype._makeResult=function(t,e,n){return n},I.prototype._willSettleAt=function(t,e){var r=this;j(t,n,function(t){r._settledAt($,e,t)},function(t){r._settledAt(H,e,t)})};var X=function(t,e){return new J(this,t,(!0),e).promise},Y=function(t,e){function r(t){w(a,t)}function i(t){E(a,t)}var o=this,a=new o(h,e);if(!M(t))return E(a,new TypeError("You must pass an array to race.")),a;for(var s=t.length,c=0;a._state===U&&c<s;c++)j(o.resolve(t[c]),n,r,i);return a},G=function(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(h,e);return w(r,t),r},K=function(t,e){var n=this,r=new n(h,e);return E(r,t),r},Z=0,tt=P;P.all=X,P.race=Y,P.resolve=G,P.reject=K,P.prototype={constructor:P,then:function(t,e){var n=this,r=n._state;if(r===$&&!t||r===H&&!e)return this;var i=new this.constructor(h),o=n._result;if(r){var a=arguments[r-1];W(function(){S(r,i,a,o)})}else j(n,i,t,e);return i},"catch":function(t){return this.then(null,t)}};var et=function(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof t&&t.document?t:self;var n="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),i(t)}();n||(e.Promise=tt)},nt={Promise:tt,polyfill:et};"function"==typeof define&&define.amd?define(function(){return nt}):"undefined"!=typeof module&&module.exports?module.exports=nt:"undefined"!=typeof this&&(this.ES6Promise=nt)}).call(t),t.ES6Promise.polyfill();var i=function(){var e=function(t){return t||(t={}),t.assert=t.clear=t.count=t.debug=t.dir=t.dirxml=t.error=t.exception=t.group=t.groupCollapsed=t.groupEnd=t.info=t.log=t.markTimeline=t.profile=t.profileEnd=t.table=t.time=t.timeEnd=t.timeStamp=t.trace=t.warn=function(){},t};return t.console||(t.console=e()),e}.call(t);!function(){"use strict";var o=!(!t.LIVEBALL||!t.LIVEBALL.inStudio);if(o){var a;a=t.LIVEBALL.App?t.LIVEBALL.App.features.labs:t.LIVEBALL.features&&t.LIVEBALL.features.labs}t.ixp=t.ixp||{};var s=t.ixp.runtime=t.ixp.runtime||{};s.fn=s.fn||{},s.inStudio=o,s.inStudioLabs=a,s.interactionsConfig={BULK_SIZE:50,AJAX_INTERVAL:7200},s.interactionManager={};var c=[],u=!1;s.ready=function(e,n){if("function"!=typeof e)throw new Error("runtime.ready requires the callback to be a function");var i=n?function(){e.call(n)}:e;return u?void(r.isFunction(t.requestAnimationFrame)?t.requestAnimationFrame(i):setTimeout(i,0)):void c.push(i)};var l=s.constants=s.constants||{};s.constants.screenSizes=s.constants.screenSizes||{},s.constants.screenSizes={xs:{maxWidth:767},sm:{minWidth:768,maxWidth:991},md:{minWidth:992,maxWidth:1199},lg:{minWidth:1200}},s.flags=s.flags||{};var f=function(){for(var e,n={},r=/\+/g,i=/([^&=]+)=?([^&]*)/g,o=function(t){try{return decodeURIComponent(t.replace(r," "))}catch(e){return console.error(e),null}},a=t.location.search.substring(1);e=i.exec(a);)n[o(e[1])]=o(e[2]);return n};s.queryString=f();var h="https:"===t.location.protocol;s.flags.https=h,"true"!==s.queryString.debug&&"true"!==s.queryString._ion_debug||(s.flags.debug=!0);var p=!!s.flags.debug;s.console=p?t.console:i(),s.log=function(){p&&("function"==typeof s.console.log?s.console.log.apply(s.console,arguments):s.console.log(Array.prototype.slice.call(arguments)))},o&&(s.studio={app:t.LIVEBALL.App,labs:!!a}),s.paths=s.paths||{},function(t){var e={https:"https://ionfiles.scribblecdn.net/",http:"http://ionfiles.scribblecdn.net/"},n=function(t){return t.replace(/^\//g,"")},r=function(t){return t.replace(/\/$/g,"")},i=function(t){return n(r(t))};t.join=function(){for(var t=Array.prototype.slice.call(arguments,0),e=[],n=0,o=t.length;n<o;n++){var a=t[n];if("string"!=typeof a)throw new Error("Arguments to path.join must be strings");"/"!==a&&(a=0===n?r(a):i(a),e=e.concat(a.split("/")))}return e.join("/")},t.getCdnPath=function(){var n=h?e.https:e.http;if(!arguments.length)return n;var r=Array.prototype.slice.call(arguments,0);r=[n].concat(r);var i=t.join.apply(this,r);return s.flags.debug?i.replace(".min",""):i}}.call(this,s.paths),s.dependencies=s.dependencies||{};var d=s.components=s.components||{};d.dependencies=d.dependencies||{},d.dependencies._=r,function(n,r){var i={},o={};s.flags.debug&&(n._modules=i,n._loading=o);var a=function(t,e){for(var n=t.split("."),r=e.split(".");n.length<r.length;)n.push("0");for(;r.length<n.length;)r.push("0");for(var i=0,o=n.length;i<o;i++){var a=Number(n[i]),s=Number(r[i]);if(a!==s)return a>s?1:-1}return 0},c=function(t,e){if(t instanceof Array){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];n.push({version:e(o),module:o})}return n.length>1&&n.sort(function(t,e){return-a(t.version,e.version)}),n}return[]},u=function(t,n){var r=e.createElement("script"),i=e.head||e.getElementsByTagName("head")[0],o=!1,a=n.load;n.load=function(){o||(o=!0,a.apply(this,arguments))},r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(n.load(),r.onreadystatechange=null)},r.onload=n.load,r.onerror=n.error,r.src=t,i.appendChild(r)},l=function(t,e,n){var r=t.instances;r.length||"function"!=typeof e.findInstances||(r=t.instances=c(e.findInstances(),e.getInstanceVersion));var i=n.minVer||n.version,o=n.maxVer||n.upToVersion,s=!(!i&&!o);if(!s&&1===r.length)return r[0].module;if(r.length){if(!s)return r[0].module;for(var u,l=0,f=r.length;l<f;l++)if(u=r[l],(!i||a(u.version,i)>=0)&&(!o||a(u.version,o)<0))return u.module}return null},f=function(t,e,n){if("function"==typeof n){var r=n;n={done:r}}else n||(n={});var c,f=i[t];if(n.sync===!0)return l(f,e,n);var h=new Promise(function(t,r){var i=f.instances,h=l(f,e,n);return h?void t(h):(c=n.url||e.url)?o[c]?(s.flags.debug&&console.log("queuing module url="+c,n),void o[c].then(t)["catch"](r)):(s.flags.debug&&console.log("loading module url="+c,n),void u(c,{load:function(){delete o[c];try{var n=e.getInstanceExport();i.push({version:e.getInstanceVersion(n),module:n}),i.length>1&&i.sort(function(t,e){return-a(t.version,e.version)}),t(n)}catch(s){r(s)}},error:function(t){delete o[c],t=new Error("failed to load script: url="+c),r(t)}})):void r(new Error("No module instances found"))});return c&&!o[c]&&(o[c]=h),"function"==typeof n.done&&h.then(function(t){n.done(t)}),"function"==typeof n.fail&&h["catch"](function(t){n.fail(t)}),h};n.define=function(t,e){if(!t||"string"!=typeof t)throw new Error("(string) module name is required");if(e||(e={}),"function"!=typeof e.getInstanceExport||"function"!=typeof e.getInstanceVersion)throw new Error("options must contain getInstanceExport and getInstanceVersion functions");if(t=t.toLowerCase(),i[t])throw new Error("module "+t+" has already been defined");i[t]={loader:function(n){return f(t,e,n)},instances:[]}},n.require=function(t,e){if(!t||"string"!=typeof t)throw new Error("(string) module name is required");t=t.toLowerCase();var n=i[t];if(!n)throw new Error("module "+t+" has not been defined");return n.loader(e)},n.define("jQuery",{url:s.dependencies.jQueryUrl,findInstances:function(){var e=[];return r&&r.jQuery&&r.jQuery.v1_11&&e.push(r.jQuery.v1_11),t.jQuery&&e.push(t.jQuery),t.$&&(!t.jQuery||t.jQuery&&t.jQuery!==t.$)&&e.push(t.$),e},getInstanceExport:function(){return t.jQuery.noConflict(!0)},getInstanceVersion:function(t){return t.fn.jquery}})}.call(this,s.dependencies,d.dependencies);var v=s.dependencies.require("jQuery",{minVer:"1.11.1",maxVer:"1.11.2"}),g=function(e){t.ixp.runtime.initInteractionManager?t.ixp.runtime.initInteractionManager.call(t.ixp.runtime,e,r):setTimeout(g,200,e)};v.then(g),s.events=s.events||{},function(t){var e={};s.flags.debug&&(t._subscriptions=e);var i=function(t,e){var n,r,i,o,a=-1,s=t.length;switch(e.length){case 0:for(;++a<s;)(n=t[a]).fn.call(n.ctx);return;case 1:for(r=e[0];++a<s;)(n=t[a]).fn.call(n.ctx,r);return;case 2:for(r=e[0],i=e[1];++a<s;)(n=t[a]).fn.call(n.ctx,r,i);return;case 3:for(r=e[0],i=e[1],o=e[2];++a<s;)(n=t[a]).fn.call(n.ctx,r,i,o);return;default:for(e=e||[];++a<s;)(n=t[a]).fn.apply(n.ctx,e);return}};t.on=function(t,n,r){if(!t||!n||!r)throw new Error("context, name, and callback are required");n=n.toLowerCase();var i=e[n]||(e[n]=[]);return i.push({ctx:t,fn:r}),this},t.once=function(t,e,n){if(!t||!e||!n)throw new Error("context, name, and callback are required");var r=this,i=function(){r.off(e,i),n.apply(this,arguments)};return this.on(t,e,i)},t.off=function(t,n,i){if(!t)throw new Error("context is required");for(var o=n?[n]:r.keys(e),a=0,s=o.length;a<s;a++){n=o[a],n=n.toLowerCase();var c=e[n];if(c){for(var u=[],l=0,f=c.length;l<f;l++){var h=c[l];(t!==h.ctx||i&&i!==h.fn)&&u.push(h)}u.length?e[n]=u:delete e[n]}}return this},t.trigger=function(t,r){var o;if("string"==typeof t?(o=Array.prototype.slice.call(arguments,1),r=t,t=n):o=Array.prototype.slice.call(arguments,2),!r||!e)return!1;r=r.toLowerCase();var a=e[r];if(!a)return!1;if(t){for(var s,c=[],u=-1,l=a.length;++u<l;)(s=a[u]).ctx!==t&&c.push(s);a=c}return i(a,o),!0}}.call(this,s.events);var m,y=function(){var t=(s.context.id||"").split("$");return 3===t.length?t[2]:0},b=function(t,e){var r={url:e.url,async:!0,data:"DELETE"===e.type?n:JSON.stringify(e.data),dataType:"json",contentType:"application/json; charset=utf-8",type:e.type||"POST",cache:!1,success:e.success&&t.proxy(e.success,this),error:e.error&&t.proxy(e.error,this)};e.always=e.always||t.proxy(e.always||function(){},this);var i;if(e.queue===!1)i=Promise.resolve(t.ajax(r).always(e.always));else{if(m){var o=function(){return Promise.resolve(t.ajax(r).always(e.always))};i=m.then(o,o)}else i=Promise.resolve(t.ajax(r).always(e.always));m=i}return i};s.constants.promise=s.constants.promise||{},s.constants.promise={cancellationError:"Promise has been cancelled"};var w=function(t){return v.then(function(e){return b(e,t)})},_=function(t){if(!r.isFunction(e.querySelectorAll))return null;for(var n,i=t.toLowerCase(),o=e.querySelectorAll(s.constants.anchor.attrSelector),a=o.length-1;a>=0;a--)if(n=o[a],n.getAttribute(s.constants.anchor.attr).toLowerCase()===i)return n;return null};(function(){s.constants.anchor=s.constants.anchor||{},s.constants.anchor={attr:"data-ixp-anchor",attrSelector:"[data-ixp-anchor]"},s.runScriptlet=function(t,e){e||(e={});var n={scriptletId:t,options:e,cancel:!1};if(s.events.trigger("runtime:runscriptlet:starting",n),!n.cancel){e=n.options||e;var r=w({url:"/admin/api/v1/scriptlets/"+t+"/run",data:{scriptletId:t,token:s.context.token,tokenId:y(),wait:!!e.wait},queue:e.queue});return n={scriptletId:t,options:e,promise:r},s.events.trigger("runtime:runscriptlet:completed",n),r}},s.runIntegration=function(t,e){e||(e={});var n={integrationId:t,options:e,cancel:!1};if(s.events.trigger("runtime:runintegration:starting",n),!n.cancel){e=n.options||e;var r=w({url:"/admin/api/v1/integrations/"+t+"/run",data:{integrationId:t,token:s.context.token,tokenId:y(),wait:!!e.wait},queue:e.queue});return n={integrationId:t,options:e,promise:r},s.events.trigger("runtime:runintegration:completed",n),r}};var i=function(){return t.innerWidth<=l.screenSizes.xs.maxWidth},a=function(){return t.innerWidth>=l.screenSizes.sm.minWidth&&t.innerWidth<=l.screenSizes.sm.maxWidth},c=function(){return t.innerWidth>=l.screenSizes.md.minWidth&&t.innerWidth<=l.screenSizes.md.maxWidth},u=function(){return t.innerWidth>=l.screenSizes.lg.minWidth};s.isHiddenByCSS=function(t){return!(!t.hasClass("ixp-grid-hidden-xs")||!i())||(!(!t.hasClass("ixp-grid-hidden-sm")||!a())||(!(!t.hasClass("ixp-grid-hidden-md")||!c())||!(!t.hasClass("ixp-grid-hidden-lg")||!u())))},s.convert=function(t){t||(t={});var e={options:t,cancel:!1};if(s.events.trigger("runtime:convert:starting",e),!e.cancel){t=e.options||t;var n=w({url:"/outside/convert.ashx?lb3id="+s.context.id+"&v=1&rnd="+parseInt(31777*Math.random()),type:"GET",queue:t.queue});return e={options:t,promise:n},s.events.trigger("runtime:convert:completed",e),n}},s.tag=function(t,e){if(e||(e={}),!t)throw new Error("Tag cannot be empty");var n={tag:t,options:e,cancel:!1};if(s.events.trigger("runtime:tag:starting",n),!n.cancel){t=n.tag||t,e=n.options||e;var r=w({url:"/outside/tag.ashx?lb3id="+s.context.id+"&tag="+encodeURIComponent(t)+"&v=1&rnd="+parseInt(31777*Math.random()),type:"GET",queue:e.queue});return n={tag:t,options:e,promise:r},s.events.trigger("runtime:tag:completed",n),r}};var f=function(t,e){var n=t.parents("[data-ixp-component-root]");if(!n.length)return[];var r=[];return n.each(function(){var t=e(this),n=t.data("ixp-component-root"),i={element:t,id:n};r.push(i)}),r.reverse()},h=function(t){var e=0,n=s.components.sendCommand&&s.components.sendCommand("status","sticky_container");if(n&&n.length)for(var r=0,i=n.length;r<i;r++){var o=n[r].data;"top"===o.sticksTo&&(o.isSticking||t&&o.scrollTop<t)&&(e+=o.offset+o.height)}return e},p=function(t,i,o){var a,c=function(){s.events.trigger(s.constants.visibility.events.recalculate,{}),s.events.trigger("runtime:scrollto:scrolled",i),a()},u=t.offset().top;if(i.preventOffset!==!0&&(u-=h(u)),i.inViewport!==n){var l=s.fn.isInViewport(t[0],i.inViewport);if(l)return new Promise(function(t){a=t,r.defer(c)})}return 0===i.speed?new Promise(function(t){a=t,o("html, body").stop().scrollTop(u),r.defer(c)}):new Promise(function(t){a=t;var n=e.scrollingElement||e.documentElement;o(n).stop().animate({scrollTop:u},{duration:i.speed,easing:"swing",always:r.debounce(c,17)})})};s.scrollTo=function(e,i){i||(i={}),v.then(function(o){var a,c;if(r.isObject(e)?(c=o(e),a=c.attr(s.constants.anchor.attr)):(a=e,c=o(_(a))),c.length){var u=c[0],l={anchor:a,element:u,speed:i.speed&&parseInt(i.speed,10)||0,updateUrlHash:a!==n&&(i.updateUrlHash===n||i.updateUrlHash),markAsConverted:a!==n&&i.markAsConverted!==n&&i.markAsConverted,inViewport:i.inViewport,preventOffset:!1,getOffsetTop:h},d=r.extend(l,{cancel:!1});if(s.events.trigger("runtime:scrollto:scrolling",d),!d.cancel){l.speed=d.speed,l.updateUrlHash=d.updateUrlHash,l.markAsConverted=d.markAsConverted,l.inViewport=d.inViewport;var v;l.completionPromise=new Promise(function(t,e){v=t}),l.updateUrlHash&&(s.events.trigger("runtime:scrollto:hash:changing",{hash:a}),t.location.hash="#"+a),l.markAsConverted&&s.convert();var g,m=Promise.resolve(),y=!1,b=f(c,o);if(b.length&&s.components.sendCommand){for(var w=[],x=0,E=b.length;x<E;x++){var j=s.components.sendCommand("scrollto",b[x].id,l);if(j)for(var A=0,T=j.length;A<T;A++){var k=j[A];k.data.preventDefault&&(y=!0),k.data.preventOffset&&(l.preventOffset=!0),k.data.element&&(g=l.element=k.data.element),l.inViewport=k.data.inViewport,w.push(k.data.promise)}}w.length&&(m=m.then(function(){return Promise.all(w)}))}return y||(g&&(c=o(g)),m=m.then(function(){return p(c,l,o)})),v&&m.then(v),m}}})},s.uploadInteractions=function(t,e){if(t.length){e||(e={});var n={options:e,cancel:!1};if(s.events.trigger("runtime:uploadinteractions:starting",n),!n.cancel){e=n.options||e;var r=Promise.resolve();return n={options:e,promise:r},s.events.trigger("runtime:uploadinteractions:completed",n),r}}},o||(t.onunload=function(){})}).call(this),s.data=s.data||{},function(t){var e={},i=function(t,n,i){if(!t||!n||"string"!=typeof t)throw new Error("(string) key, and value are required");t=t.toLowerCase(),"string"==typeof n&&(n={value:n}),i||(i={}),!e[t]||i.replace?e[t]=n:e[t]=r.extend(e[t],n)};t.model=t.model||{},t.model.get=function(t){return t?(t=t.toLowerCase(),e[t]):r.extend({},e)};var a=function(t){if(!t)return null;if(t.indexOf("{")>-1)try{var e=JSON.parse(t);return{id:e.id,key:e.name}}catch(n){throw new Error("Data field contains invalid JSON")}var r=t.indexOf("\\");return r>-1?{id:0,key:t.substring(r+2)}:{id:0,key:t}},c=function(t,n,r){n=n instanceof Array?n:[n];for(var i,o,a=[],c=[],u=r?":saving":":saved",l=0,f=n.length;l<f;l++)if(i=n[l],r||"valid"===i.validation)o={key:i.key,value:i.value},a.push(o),s.events.trigger("runtime:data:"+i.key+u,{instanceId:t,data:o});else{var h=e[i.key];o={key:i.key,value:h&&h.value,failedValue:i.value,validation:i.validation},c.push(o),s.events.trigger("runtime:data:"+i.key+":failed",{instanceId:t,data:o})}var p={instanceId:t,data:a};r||(p.failed=c),s.events.trigger("runtime:data"+u,p)},u=function(t){if(t&&t.length)for(var e,n=0,r=t.length;n<r;n++)e=t[n],"valid"===e.validation&&i(e.key,{value:e.value})},l=function(t,e){var n=e.data.instanceId,i=r.isFunction(e.success)&&e.success;e.success=function(t){var e=t&&t instanceof Array?t:[t];if(u(e),i)try{i.apply(this,arguments)}catch(r){}e&&e.length&&c(n,e)};var o=r.isFunction(e.error)&&e.error;return e.error=function(t){var e;if(409===t.status){var r=JSON.parse(t.responseText);e=r&&r.responseStatus&&r.responseStatus.data,e&&(e=e instanceof Array?e:[e],u(e))}if(o)try{o.apply(this,arguments)}catch(i){}e&&e.length&&c(n,e)},b(t,e)};t.save=function(e){if(o||!e.submit&&!e.data)return Promise.resolve();!e.data&&e.submit&&(e.data=[]);var r,i,u,f="",h=e.data instanceof Array;if(h){f=e.submit?"/submit":"/bulk";for(var p,d=[],g=0,m=e.data.length;g<m;g++)p=e.data[g],u=a(p.dataField),u&&d.push({fieldId:u.id,key:u.key,value:p.value,metadata:p.metadata,method:p.method});(d.length||e.submit)&&(r={data:d,token:s.context.token,instanceId:e.instanceId})}else u=a(e.data.dataField),u&&(r={key:u.key,fieldId:u.id,value:e.data.value,metadata:e.data.metadata,token:s.context.token,instanceId:e.instanceId},e.data.method&&"DELETE"===e.data.method.toUpperCase()&&(f+="?token="+s.context.token,u.key&&(f+="&key="+u.key),u.id&&(f+="&fieldId="+u.id),i="DELETE",r.value=n));if(!r&&"DELETE"!==i)return"function"==typeof e.always&&e.always.call(this),Promise.resolve();c(r.instanceId,r,!0);var b=y(),w={url:"/admin/api/v1/respondents/"+b+"/data"+f,data:r,success:e.success,error:e.error,always:e.always,type:i};return v.then(function(e){return l.call(t,e,w)})},t["delete"]=function(e){return e.data?(e.data.method="DELETE",t.save(e)):Promise.resolve()},s.events.on(t,"runtime:data:registered",function(t){i(t.key,t.value)})}.call(this,s.data);var x={};(function(n){var r={},i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});t.addEventListener("test",null,o)}catch(a){}n.on=function(t,e,n,o){var a=n;o||(o={}),!t.addEventListener&&t.attachEvent&&(a=function(){n.call(t)},r[e]=a);for(var s=e.split(" "),c=0,u=s.length;c<u;c++)t.addEventListener?t.addEventListener(s[c],a,!(!o.passive||!i)&&{passive:!0}):t.attachEvent&&t.attachEvent("on"+s[c],a)},n.off=function(t,e,n){var i=n;!t.addEventListener&&t.attachEvent&&(i=r[e]||n);for(var o=e.split(" "),a=0,s=o.length;a<s;a++)t.removeEventListener?t.removeEventListener(o[a],i,!1):t.detachEvent&&t.detachEvent("on"+o[a],i)},n.isSvgElement=function(t){return 1===t.nodeType&&"svg"===t.nodeName},n.getClassName=function(t){return t.className?this.isSvgElement(t)?t.className.baseVal:t.className:""},n.addClass=function(t,e){this.hasClass(t,e)||(this.isSvgElement(t)?t.className.baseVal+=" "+e:t.className+=" "+e)},n.hasClass=function(t,e){return e=" "+e+" ",1===t.nodeType&&(" "+this.getClassName(t)+" ").replace(/[\n\t]/g," ").indexOf(e)>=0},n.removeClass=function(t,e){var n=this.getClassName(t),r=1===t.nodeType&&(n?(" "+n+" ").replace(/[\n\t]/g," "):""),i=this.isSvgElement(t);if(r){for(;r.indexOf(" "+e+" ")>=0;)r=r.replace(" "+e+" "," ");i?t.className.baseVal=r.replace(/^\s+|\s+$/g,""):t.className=r.replace(/^\s+|\s+$/g,"")}},n.ready=function(n){var r=!1,i=!1,o=[],a=function(t){"function"==typeof t&&o.push(t)},s=function(){for(;o.length;)o.shift()();a=function(t){t()}},c=function(){e.addEventListener?e.removeEventListener("DOMContentLoaded",c,!1):e.detachEvent("onreadystatechange",c),u()},u=function(){if(!r){if(!e.body)return setTimeout(u,1);r=!0,s()}},l=function(){var n=!1;if(!i)if(i=!0,"loading"!==e.readyState&&u(),e.addEventListener)e.addEventListener("DOMContentLoaded",c,!1),t.addEventListener("load",c,!1);else if(e.attachEvent){e.attachEvent("onreadystatechange",c),t.attachEvent("onload",c);try{n=null==t.frameElement}catch(r){}e.documentElement.doScroll&&n&&f()}},f=function(){if(!r){try{e.documentElement.doScroll("left")}catch(t){return void setTimeout(f,1)}u()}};a(n),l()}}).call(this,x),x.hasClass(e.documentElement,"ixp-prevent-animations")&&(s.flags.preventAnimations=!0),function(r,i){var a,c={};l.visibility=function(t){var e="ixp-scroll-",n=t.css=t.css||{};n.awareness=e+"aware",n.inOnce=e+"in-once",n.seen=e+"seen";var r=n.microthemes=n.microthemes||{};r.awareness="ixp-scroll-aware-util",r.inOnce="ixp-scroll-in-once-util";var i=n.states=n.states||{};i.shown=e+"in",i.hidden=e+"out",i.entering=e+"enter",i.leaving=e+"leave";var o=t.events=t.events||{},u="visibility:";return o.recalculate=u+"recalculate",o.recalculating=u+"recalculating",o.change=u+"change",i=t.states=t.states||{},i.shown="shown",i.hidden="hidden",i.entering="entering",i.leaving="leaving",t.awarenessDelay=250,s.flags.preventAnimations?t.awarenessSelector="."+n.awareness+"."+n.microthemes.awareness+", ."+n.awareness+"."+n.microthemes.inOnce:t.awarenessSelector="."+n.awareness,a=i,c[i.shown]=n.states.shown,c[i.hidden]=n.states.hidden,c[i.entering]=n.states.entering,c[i.leaving]=n.states.leaving,t}.call(this,l.visibility||{}),l.parallax=function(t){var e=t.css=t.css||{};return e.parallax="ixp-parallax",t.parallaxSelector="."+t.css.parallax,t}.call(this,l.parallax||{});var u=function(t,e){e||(e={});var r=t.getBoundingClientRect();return r.height!==n&&r.width!==n||(r={top:r.top,left:r.left,bottom:r.bottom,right:r.right,height:r.bottom-r.top,width:r.right-r.left}),e.viewport&&(r={top:r.top+(e.viewport.scrollTop||0),left:r.left+(e.viewport.scrollLeft||0),bottom:r.bottom+(e.viewport.scrollTop||0),right:r.right+(e.viewport.scrollLeft||0),height:r.bottom-r.top,width:r.right-r.left}),e.round&&(r={top:Math.ceil(r.top),left:Math.ceil(r.left),bottom:Math.ceil(r.bottom),right:Math.ceil(r.right),height:Math.ceil(r.height),width:Math.ceil(r.width)}),r},f=function(n,r){r||(r={});var i=u(n,{round:!0,viewport:r.viewport}),o=Math.ceil(r.viewport&&r.viewport.windowHeight||t.innerHeight||e.documentElement.clientHeight),s=Math.ceil(r.viewport&&r.viewport.windowWidth||t.innerWidth||e.documentElement.clientWidth);if(null==r.tolerance){if("hidden"===(t.getComputedStyle&&t.getComputedStyle(n,null).getPropertyValue("visibility")))return a.hidden;if(i.height>=o||2*i.height>o&&i.top>0)return i.top>-i.height&&i.top<o?a.shown:a.hidden;if(i.top>=0&&i.bottom<o&&i.left>=0&&i.left<s)return a.shown;if(i.top>=o||i.bottom<=0||i.left>=s||i.right<=0)return a.hidden;if("up"===r.direction){if(i.top>-(i.height/2)&&i.top+i.height/2<o)return r.element.state==a.shown?a.shown:a.entering;if(i.top>-i.height&&i.top<o)return r.element.state==a.hidden?a.hidden:a.leaving}else{if(i.top>-(i.height/2)&&i.top+i.height/2<o)return r.element.state==a.shown?a.shown:a.entering;if(i.top>-i.height&&i.top<o)return r.element.state&&r.element.state!=a.hidden?a.leaving:a.hidden}return!1}var c=!1;if(i.height>=o&&(r.tolerance=0),1===r.tolerance)c=i.top>=0&&i.bottom<=o;else if(r.tolerance<1&&r.tolerance>0){var l=1/r.tolerance,f=i.height/l;c=i.top>-f&&i.top+f<o}else c=i.top>-i.height&&i.top<o;return c&&r.edge&&("top"===r.edge?c=i.top>=0:"bottom"===r.edge&&(c=i.bottom<o)),c};if(s.fn.isInViewport=f,r){var h=o?t.LIVEBALL:n,p=[],d=[],v=function(){var t=l.visibility,n=r.call(e,t.awarenessSelector);if(!n.length)return[];for(var o,a,s=[],c=0,u=n.length;c<u;++c)o=n[c],a=i.hasClass(o,t.css.inOnce),a&&i.hasClass(o,t.css.seen)||s.push({el:o,once:a});return s},g=function(){var t=l.parallax,n=r.call(e,t.parallaxSelector);if(!n.length)return[];for(var i,o,a=new RegExp("\\b"+t.css.parallax+"-(\\d+)"),s=[],c=0,u=n.length;c<u;++c)i=n[c],o=i.className.match(a),s.push({el:i,speed:1/((o&&o[1]&&parseInt(o[1])||400)/100)});return s},m=function(){p=v(),d=g()},y=null,b=null,w=0,_="webkitAnimationEnd oanimationend MSAnimationEnd animationend",x=function(n){return null==n||null==n.scrollTop||isNaN(n.scrollTop)?(t.pageYOffset||e.documentElement.scrollTop||0)-(e.documentElement.clientTop||0):n.scrollTop},E=function(t){t||(t={});var e=x(t.viewport),n=w-e;if(0!==n||t.force)for(var r,o,u,h=0,d=p.length;h<d;++h)if(r=p[h],o=f(r.el,{element:r,direction:n>0?"up":"down",viewport:t.viewport}),r.state=o,!i.hasClass(r.el,c[o])){for(u in a)a.hasOwnProperty(u)&&i.removeClass(r.el,c[a[u]]);i.addClass(r.el,c[o]),o!==a.shown||r.seen||(r.seen=!0,i.addClass(r.el,l.visibility.css.seen),r.once&&(p.splice(h,1),h--,d=p.length,r.el.addEventListener&&function(t){var e=function(n){n.target===t&&(i.off(t,_,e),i.removeClass(t,l.visibility.css.states.shown))};i.on(t,_,e,{passive:!0})}.call(this,r.el))),s.events.trigger(l.visibility.events.change,{el:r.el,once:r.once,seen:r.seen,state:o})}w=e,y=null},j=/url\(\s*["']?([^"']+)["']?\s*\)/,A=function(t){var e=t.style.backgroundPosition.split(" ");1===e.length&&(e[0]=t.style.backgroundPositionX,e[1]=t.style.backgroundPositionY);for(var n=0,r=e.length;n<r;n++)switch(e[n]){case"left":e[n]="0%";break;case"right":e[n]="100%";break;case"top":e[n]="0%";break;case"bottom":e[n]="100%";break;case"center":e[n]="50%"}return e[0]=e[0]||"0%",e},T=function(t,e,n,r,i){var o=e.el.style.backgroundImage.match(j);if(o){var a=new Image;a.onload=function(){t.call(this,e,n,r,i)},a.src=o[1]}return!!o},k=function(t,e,n,r){t.y=(e-this.height)/r,n&&(t.el.style.backgroundPosition=t.x+" "+(t.y+n)+"px")},S=function(t){t||(t={});for(var e,r,i,o=x(t.viewport),a=0,s=d.length;a<s;++a)if(e=d[a],f(e.el,{tolerance:0,viewport:t.viewport}))if(r=-o*e.speed,i=u(e.el),e.bgPos!==n)e.el.style.backgroundPosition=e.x+" "+(e.y+r)+"px";else{var c=A(e.el);e.bgPos=c,e.x=c[0];var l=c[1];if("%"===l.charAt(l.length-1))if(l=parseInt(l,10),0===l)e.y=0;else{var h=100/l;if(e.y=i.height/h,T(k,e,i.height,r,h))continue}else e.y=parseFloat(l);r&&(e.el.style.backgroundPosition=e.x+" "+(e.y+r)+"px")}b=null},C=function(t,e){if(p.length||d.length){e||(e={});var n={options:e,cancel:!1};if(s.events.trigger(l.visibility.events.recalculating,n),!n.cancel){var r=e.force;!r&&y||!p.length||(y&&clearTimeout(y),y=setTimeout(function(){E({force:r,viewport:e.viewport})},e.delay||l.visibility.awarenessDelay)),!r&&b||!d.length||(b&&clearTimeout(b),b=setTimeout(function(){S({viewport:e.viewport})},1))}}},I=function(t){t||(t={}),t.reset&&m(),C(null,{force:!0,delay:t.delay||1,viewport:t.viewport})};i.ready(function(){if(m(),(p.length||d.length||h)&&(i.on(t,"scroll",C,{passive:!0}),i.on(t,"resize",function(t){C(t,{force:!0})},{passive:!0}),s.events.on(t,l.visibility.events.recalculate,I),C(null,{force:!0}),h))var e=new RegExp("\\b"+l.parallax.css.parallax+"\\b"),n=new RegExp("\\b"+l.visibility.css.awareness+"\\b"),r=t.setInterval(function(){if(h.App&&h.App.vent){t.clearInterval(r);var i;h.App.vent.subscribe("style:changed:background style:changed:customClass element:microtheme:applied element:microtheme:removed",function(r){if(!r||!r.classes||r.classes.match(n)||r.classes.match(e)){for(var o,a=0,s=d.length;a<s;++a)o=d[a],o.bgPos&&(o.el.style.backgroundPosition=o.bgPos.join(" "));d=[],i&&(t.clearTimeout(i),i=null),i=setTimeout(function(){I({reset:!0})},250)}})}},500)})}}.call(this,e.querySelectorAll,x),function(){s.constants.interaction=s.constants.interaction||{},s.constants.interaction={attrSelector:"[data-ixp-interaction]",triggerAttrSelector:"[data-ixp-interaction-trigger]"};var i=function(t){var e=t.name.toLowerCase(),n=e.lastIndexOf(":"),r=e.substring(0,n),i=e.substring(n+1);try{if(t.data||(t.data={}),"runtime"===r){switch(i){case"tag":return s.tag(t.data.tag,t.data.options);case"convert":return s.convert(t.data.options);case"scrollto":return s.scrollTo(t.data.anchor,t.data.options)}return Promise.reject();
}var o=s.components.sendCommand&&s.components.sendCommand(i,r,t.data);return Promise.resolve(o)}catch(a){return Promise.reject(a)}},o=!1;v.then(function(a){s.ready(function(){for(var c=function(t){var e=a(this),n=e.attr("data-ixp-interaction");if(n){n=JSON.parse(n);var r=t.type,o=n[r];if(o&&o.length){"click"===r.toLowerCase()&&t.preventDefault();for(var s,c=0,u=o.length;c<u;c++){var l=o[c];l.queue===!1?i(l)["catch"](function(t){console.warn(t)}):s=s?s.then(function(){return i(l)}):i(l)}s&&s["catch"](function(t){console.warn(t)})}}},u=["click","hover"],l=a(e),f=0,h=u.length;f<h;f++){var p=u[f];l.on(p+".ixp-runtime",'[data-ixp-interaction-trigger~=":'+p+'"]',c)}var d={},v=function(e){var n=e.hash&&e.hash.toLowerCase();n&&t.location.hash.toLowerCase()!=="#"+n&&(d[n]=!0)};s.events.on(s,"runtime:scrollto:hash:changing",v),s.events.on(s,"runtime:scrollto:ignore:hash:changing",v);var g=r.debounce(s.scrollTo,100),m=function(){var e=t.location.hash;if(e){0===e.indexOf("#")&&(e=e.substring(1));var r=e.toLowerCase();d[r]?d[r]=n:g(e)}};a(t).on("hashchange.ixp-runtime",m),a(function(){o=!0,s.flags.nativeAnchorSupport&&a("a[data-ixp-hidden-anchor]").remove()})})}),function(){var e=function(n){var i=_(n);return i?void s.scrollTo(i,{updateUrlHash:!0}):void(o||(r.isFunction(t.requestAnimationFrame)?t.requestAnimationFrame(function(){e(n)}):setTimeout(function(){e(n)},10)))},n=t.location.hash;n&&(0===n.indexOf("#")&&(n=n.substring(1)),s.anchors&&s.anchors[n.toLowerCase()]&&e(n))}.call(this)}.call(this),function(){if(u=!0,0!==c.length)for(var t=0,e=c.length;t<e;t++)try{c[t]()}catch(n){console.error(n)}}.call(this),function(){function t(t,e){var n="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",t,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),r.isString(e)?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text"):e instanceof Blob&&e.type&&n.setRequestHeader("Content-Type",e.type);try{n.send(e)}catch(i){return!1}return!0}"navigator"in this&&"sendBeacon"in this.navigator||("navigator"in this||(this.navigator={}),this.navigator.sendBeacon=t.bind(this))}.call(t)}()}(window,document);
//# sourceMappingURL=ixp-runtime.min.js.map
